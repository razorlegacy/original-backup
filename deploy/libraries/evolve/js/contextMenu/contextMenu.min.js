jQuery&&function(a){a.extend(a.fn,{contextMenu:function(b,e){if(void 0==b.menu)return!1;void 0==b.inSpeed&&(b.inSpeed=150);void 0==b.outSpeed&&(b.outSpeed=75);0==b.inSpeed&&(b.inSpeed=-1);0==b.outSpeed&&(b.outSpeed=-1);a(this).each(function(){var d=a(this),j=a(d).offset();a("#"+b.menu).addClass("contextMenu");a(this).mousedown(function(i){if(i.button==2){i.stopPropagation();a(this).mouseup(function(f){f.stopPropagation();var k=a(this);a(this).unbind("mouseup");if(i.button==2){a(".contextMenu").hide();
var c=a("#"+b.menu);if(a(d).hasClass("disabled"))return false;var g,h;f.pageX?g=f.pageX:g=f.clientX+void 0;f.pageY?h=f.pageY:h=f.clientY+void 0;a(document).unbind("click");a(c).css({top:h,left:g}).fadeIn(b.inSpeed);a(c).find("A").mouseover(function(){a(c).find("LI.hover").removeClass("hover");a(this).parent().addClass("hover")}).mouseout(function(){a(c).find("LI.hover").removeClass("hover")});a(document).keypress(function(b){switch(b.keyCode){case 38:if(a(c).find("LI.hover").size()==0)a(c).find("LI:last").addClass("hover");
else{a(c).find("LI.hover").removeClass("hover").prevAll("LI:not(.disabled)").eq(0).addClass("hover");a(c).find("LI.hover").size()==0&&a(c).find("LI:last").addClass("hover")}break;case 40:if(a(c).find("LI.hover").size()==0)a(c).find("LI:first").addClass("hover");else{a(c).find("LI.hover").removeClass("hover").nextAll("LI:not(.disabled)").eq(0).addClass("hover");a(c).find("LI.hover").size()==0&&a(c).find("LI:first").addClass("hover")}break;case 13:a(c).find("LI.hover A").trigger("click");break;case 27:a(document).trigger("click")}});
a("#"+b.menu).find("A").unbind("click");a("#"+b.menu).find("LI:not(.disabled) A").click(function(){a(document).unbind("click").unbind("keypress");a(".contextMenu").hide();e&&e(a(this).attr("href").substr(1),a(k),{x:g-j.left,y:h-j.top,docX:g,docY:h});return false});setTimeout(function(){a(document).click(function(){a(document).unbind("click").unbind("keypress");a(c).fadeOut(b.outSpeed);return false})},0)}})}});a.browser.mozilla?a("#"+b.menu).each(function(){a(this).css({MozUserSelect:"none"})}):a.browser.msie?
a("#"+b.menu).each(function(){a(this).bind("selectstart.disableTextSelect",function(){return false})}):a("#"+b.menu).each(function(){a(this).bind("mousedown.disableTextSelect",function(){return false})});a(d).add(a("UL.contextMenu")).bind("contextmenu",function(){return false})});return a(this)},disableContextMenuItems:function(b){if(void 0==b)return a(this).find("LI").addClass("disabled"),a(this);a(this).each(function(){if(void 0!=b)for(var e=b.split(","),d=0;d<e.length;d++)a(this).find('A[href="'+
e[d]+'"]').parent().addClass("disabled")});return a(this)},enableContextMenuItems:function(b){if(void 0==b)return a(this).find("LI.disabled").removeClass("disabled"),a(this);a(this).each(function(){if(void 0!=b)for(var e=b.split(","),d=0;d<e.length;d++)a(this).find('A[href="'+e[d]+'"]').parent().removeClass("disabled")});return a(this)},disableContextMenu:function(){a(this).each(function(){a(this).addClass("disabled")});return a(this)},enableContextMenu:function(){a(this).each(function(){a(this).removeClass("disabled")});
return a(this)},destroyContextMenu:function(){a(this).each(function(){a(this).unbind("mousedown").unbind("mouseup")});return a(this)}})}(jQuery);